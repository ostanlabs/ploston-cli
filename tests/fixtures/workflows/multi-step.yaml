# Workflow: Multi-Step with Template Interpolation
# Tests parameter passing between steps
name: multi-step
version: "1.0"
description: Multi-step workflow with template interpolation

inputs:
  - search_query:
      type: string
      required: true
      description: Search query
  - output_dir:
      type: string
      required: true
      description: Output directory

steps:
  - id: search
    tool: brave_search
    params:
      query: "{{ inputs.search_query }}"
      max_results: 5

  - id: save
    tool: filesystem_write_file
    params:
      path: "{{ inputs.output_dir }}/results.json"
      content: "{{ steps.search.output }}"
    depends_on:
      - search

outputs:
  - name: results_path
    value: "{{ inputs.output_dir }}/results.json"
  - name: result_count
    value: "{{ steps.search.output.count }}"
